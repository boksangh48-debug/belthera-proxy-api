<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Belthera 감정리딩 타로</title>

<!-- ✅ Open Graph / SNS 미리보기 설정 -->
<meta property="og:url" content="https://belthera-proxy-api.vercel.app/external-gate.html">
<meta property="og:type" content="website">
<meta property="og:title" content="Belthera 감정리딩 타로">
<meta property="og:description" content="하루 3분, 마음의 리듬을 읽어드립니다. 인앱에서도 안전 브라우저로 자동 전환!">
<meta property="og:image" content="https://belthera-proxy-api.vercel.app/KakaoTalk_20250807_083829974.jpg">
<meta property="og:image:width" content="800">
<meta property="og:image:height" content="800">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Belthera 감정리딩 타로">
<meta name="twitter:description" content="하루 3분, 마음의 리듬을 읽어드립니다.">
<meta name="twitter:image" content="https://belthera-proxy-api.vercel.app/KakaoTalk_20250807_083829974.jpg">

<style>
  body{font-family:system-ui,Apple SD Gothic Neo,Segoe UI,Roboto,Arial;
       margin:0;padding:24px;line-height:1.5;background:#fafafa}
  .card{max-width:560px;margin:0 auto;padding:20px;border:1px solid #e5e7eb;border-radius:16px;background:#fff}
  h1{margin:0 0 8px} p{margin:8px 0}
  .btn{display:inline-block;margin-top:14px;padding:12px 16px;border-radius:12px;
       border:0;background:#111;color:#fff;font-weight:700;text-decoration:none}
  .hint{font-size:13px;color:#6b7280}
</style>
</head>
<body>
  <div class="card">
    <h1>보안 브라우저로 열어드릴게요</h1>
    <p>현재 창(인앱 브라우저)에선 Google 로그인이 차단됩니다.<br>안전한 브라우저로 이동 중…</p>
    <a id="openExternal" class="btn" target="_blank" rel="noopener">외부 브라우저로 열기</a>
    <p class="hint">안되면 오른쪽 위 메뉴(⋯) → “기타 브라우저로 열기”를 선택해주세요.</p>
  </div>

<script>
(function(){
  const qs = new URLSearchParams(location.search);
  const target = qs.get('to') || 'https://belthera-proxy-api.vercel.app/';
  const ua = navigator.userAgent.toLowerCase();
  const isAndroid = /android/.test(ua);
  const isIOS = /iphone|ipad|ipod/.test(ua);
  const isInApp =
    /(kakao|line|fbav|instagram|naver|daum|wv)/.test(ua) ||
    (window.navigator.standalone === false);

  const btn = document.getElementById('openExternal');
  btn.href = target;

  if (!isInApp) { location.replace(target); return; }

  if (isAndroid) {
    const noScheme = target.replace(/^https?:\/\//, '');
    const intent =
      `intent://${noScheme}#Intent;scheme=https;package=com.android.chrome;` +
      `S.browser_fallback_url=${encodeURIComponent(target)};end`;
    location.href = intent;
    setTimeout(()=>{ btn.style.display='inline-block'; }, 800);
  } else if (isIOS) {
    const w = window.open(target, '_blank', 'noopener');
    if (!w) {
      btn.style.display='inline-block';
    }
  } else {
    location.href = target;
  }
})();
</script>
</body>
</html>
